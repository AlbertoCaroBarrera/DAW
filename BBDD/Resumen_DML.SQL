/*********************************************************/
/*** REGLA GENERAL PARA LAS QUERIES*******
1. EXISTE ALGUN PRECALCULO-- UTILIZO SUBCONSULTAS
2. ME ENCUENTRO EN LA SUBCONSULTA. EXISTE ALGUN PRECALCULO--VUELVO AL PUNTO UNO
3. DONDE ESTA LA INFORMACIÓN-- ESTO LO PONGO EN EL FROM
4. QUE INFORMACION QUIERO MOSTRAR.
5. EXISTE ALGUNA FUNCION DE AGREGACION-- SI ES ASI, TODO LO QUE ESTA FUERA DE LA FUNCION DE 
   AGREGACIÓN VA AL GROUP BY
6. EXISTE ALGUNA CONDICION SOBRE LAS COLUMNAS DE LAS TABLAS--ESTO VA AL WHERE   
7. EXISTE ALGUNA CONDICION SOBRE LAS FUNCIONES DE AGREGACION-- ESTO VA AL HAVING   
8. EXISTE ALGUNA ORDENACION-- ESTO VA EN EL ORDER BY.
*******/
ALTER SESSION SET NLS_LANGUAGE= 'SPANISH'; 

alter session set nls_date_format='YYYY-MM-DD HH24:MI:SS';

alter session set "_ORACLE_SCRIPT"=true;

create user EMPLEADOS identified BY  EMPLEADOS;

grant all privileges  to EMPLEADOS;


SELECT *
FROM EMPLEADOS;

INSERT INTO EMPLEADOS(CODIGOEMPLEADO, NOMBRE, APELLIDO1,APELLIDO2,EXTENSION,EMAIL,CODIGOOFICINA,CODIGOJEFE,PUESTO,SALARIO)
VALUES (((SELECT MAX(CODIGOEMPLEADO)+1 FROM EMPLEADOS)),'ALBERTO','CARO','BARRERA',4108,'albertocarobarra@gmail.com','TAL-ES',2,'Representante Ventas',1000);

UPDATE EMPLEADOS
SET CODIGOJEFE = (SELECT MIN(CODIGOJEFE) FROM EMPLEADOS)
WHERE CODIGOEMPLEADO = 32;


DELETE FROM EMPLEADOS
WHERE CODIGOEMPLEADO IN (32,33);

ROLLBACK;

----------------------------------------------------------------------------
-- CONJUNTO DE DATOS
SELECT * 
FROM EMP;

SELECT *
FROM DEPT;

-- OBTENER A UNION B POR EJEMPLO EL LISTADO DE NOBMRES DE EMPLEADOS Y DEPARTAMENTOS
-- ESTA UNION TAMBIEN ES CONOCIDA COMO UNION DISJUNTA.
SELECT ENAME
FROM EMP
UNION 
SELECT DNAME 
FROM DEPT
ORDER BY 1 DESC;

-- RECORDAR QUE EL UNION Y EL UNION ALL NO ES LO MISMO
-- EL UNION ALL SACABA LOS REPETIDOS.
INSERT INTO DEPT(DEPTNO, DNAME,LOC) VALUES (69,'KING','SEVILLA');

SELECT ENAME
FROM EMP
UNION ALL
SELECT DNAME 
FROM DEPT;

-- LAS INTERSECCION ENTRE DOS CONJUNTOS
SELECT ENAME
FROM EMP
INTERSECT
SELECT DNAME 
FROM DEPT;

SELECT DNAME
FROM DEPT D, EMP E
WHERE DNAME = ENAME;

-- RESTA DE A Y B A\B LA RESTA ES EL COJUNTO PRIMERO (A) MENOS LA INTERSECCION DE A Y B
SELECT ENAME
FROM EMP
MINUS
SELECT DNAME 
FROM DEPT;


SELECT DNAME
FROM DEPT
MINUS
SELECT ENAME 
FROM EMP;

-- OTRA FORMA DE VERLO
SELECT DNAME
FROM DEPT
WHERE DNAME NOT IN (SELECT ENAME FROM EMP);

-- ESTO SUELE CONOCERSE COMO EL COMPLEMENTARIO
-- Y NOS PERMITE RESOLVER DUDAS COMO

-- DEPARTAMENTO QUE NO TIENEN EMPLEADOS.
SELECT DNAME FROM DEPT;-- TODOS LOS DEPT
SELECT DEPTNO FROM EMP; -- DEPT QUE TIENEN EMPLEADOS

SELECT DNAME FROM DEPT
WHERE DEPTNO NOT IN (SELECT DEPTNO FROM EMP);

----------------------------------------------------------------------------------

   /**** crear un secuencia***********
   DROP SEQUENCE SEQ_JUGADORES;

   CREATE SEQUENCE SEQ_JUGADORES
   INCREMENT BY 1
   START WITH 1;

   CREATE SEQUENCE schema_name.sequence_name
   [INCREMENT BY interval]
   [START WITH first_number]
   [MAXVALUE max_value | NOMAXVALUE]
   [MINVALUE min_value | NOMINVALUE]
   [CYCLE | NOCYCLE]
   [CACHE cache_size | NOCACHE]
   [ORDER | NOORDER];
   ********/

select chr(86)
from dual;

